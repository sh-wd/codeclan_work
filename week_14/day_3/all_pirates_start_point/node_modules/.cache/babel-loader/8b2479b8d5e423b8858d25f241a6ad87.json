{"ast":null,"code":"import _objectSpread from \"/Users/user/Desktop/g36/codeclan_work/week_14/day_3/all_pirates_start_point/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/user/Desktop/g36/codeclan_work/week_14/day_3/all_pirates_start_point/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/user/Desktop/g36/codeclan_work/week_14/day_3/all_pirates_start_point/src/components/pirates/PirateEditForm.js\";\nimport React, { useState } from \"react\";\n\nvar PirateEditForm = function PirateEditForm(_ref) {\n  var pirate = _ref.pirate,\n      ships = _ref.ships;\n\n  if (!pirate) {\n    return React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 7\n      },\n      __self: this\n    }, \"\\\"Loading...\\\"\");\n  }\n\n  var _useState = useState({\n    firstName: \"\",\n    lastName: \"\",\n    age: 0,\n    ship: null\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      statePirate = _useState2[0],\n      setStatePirate = _useState2[1];\n\n  var currentShip = function currentShip() {\n    var currentId = pirate.ship.id;\n    var pirateShip = null;\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = ships[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var ship = _step.value;\n\n        if (ship.id === currentId) {\n          pirateShip = ship;\n        }\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return != null) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n\n    return pirateShip;\n  };\n\n  var _useState3 = useState(currentShip()),\n      _useState4 = _slicedToArray(_useState3, 2),\n      stateShip = _useState4[0],\n      setStateShip = _useState4[1];\n\n  var handleChange = function handleChange(event) {\n    var propertyName = event.target.name;\n\n    var copiedPirate = _objectSpread({}, statePirate);\n\n    copiedPirate[propertyName] = event.target.value;\n    setStatePirate(copiedPirate);\n  };\n\n  var handleShip = function handleShip(event) {\n    var index = parseInt(event.target.value);\n    var selectedShip = ships[index];\n\n    var copiedPirate = _objectSpread({}, statePirate);\n\n    copiedPirate[\"ship\"] = selectedShip;\n    setStatePirate(copiedPirate);\n  };\n\n  if (ships.length === 0) {\n    return React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, \"Loading...\");\n  }\n\n  var shipOptions = ships.map(function (ship, index) {\n    return React.createElement(\"option\", {\n      key: index,\n      value: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, ship.name);\n  });\n\n  var handleSubmit = function handleSubmit(event) {\n    event.preventDefault(); //   onCreate(statePirate)\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: pirate.firstName,\n    name: \"firstName\",\n    onChange: handleChange,\n    value: statePirate.firstName,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: pirate.lastName,\n    name: \"lastName\",\n    onChange: handleChange,\n    value: statePirate.lastName,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"number\",\n    placeholder: pirate.age,\n    name: \"age\",\n    onChange: handleChange,\n    value: statePirate.age,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }), React.createElement(\"select\", {\n    name: \"ship\",\n    onChange: handleShip,\n    defaultValue: stateShip.index,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, shipOptions), React.createElement(\"button\", {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, \"Save\")));\n};\n\nexport default PirateEditForm;","map":{"version":3,"sources":["/Users/user/Desktop/g36/codeclan_work/week_14/day_3/all_pirates_start_point/src/components/pirates/PirateEditForm.js"],"names":["React","useState","PirateEditForm","pirate","ships","firstName","lastName","age","ship","statePirate","setStatePirate","currentShip","currentId","id","pirateShip","stateShip","setStateShip","handleChange","event","propertyName","target","name","copiedPirate","value","handleShip","index","parseInt","selectedShip","length","shipOptions","map","handleSubmit","preventDefault"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\n\nconst PirateEditForm = ({pirate, ships}) => {\n\n\n    if (!pirate){\n        return <p>\"Loading...\"</p>\n      }\n\n    const [statePirate, setStatePirate] = useState({\n        firstName: \"\",\n        lastName: \"\",\n        age: 0,\n        ship: null\n    })\n\n    const currentShip = () => {\n        let currentId = pirate.ship.id;\n        let pirateShip = null;\n        for(let ship of ships){\n          if(ship.id === currentId){\n              pirateShip = ship;\n          }\n        }\n        return pirateShip;\n      }\n\n    const [stateShip, setStateShip] = useState(currentShip())\n\n    const handleChange = (event) => {\n      let propertyName = event.target.name;\n      let copiedPirate = {...statePirate}\n      copiedPirate[propertyName] = event.target.value;\n      setStatePirate(copiedPirate)\n    }\n\n    const handleShip = (event) => {\n        const index = parseInt(event.target.value);\n        const selectedShip = ships[index];\n        let copiedPirate = {...statePirate};\n        copiedPirate[\"ship\"] = selectedShip;\n        setStatePirate(copiedPirate);\n    }\n\n    if(ships.length === 0){\n        return <p>Loading...</p>\n    }\n\n    const shipOptions = ships.map((ship, index) => {\n      return <option key={index} value={index}>{ship.name}</option>\n    })\n\n    const handleSubmit = (event) => {\n      event.preventDefault();\n    //   onCreate(statePirate)\n    }\n\n\n    return ( \n        <div>\n            <form onSubmit={handleSubmit}>\n                <input \n                type=\"text\"\n                placeholder={pirate.firstName}\n                name=\"firstName\"\n                onChange={handleChange}\n                value={statePirate.firstName}\n                />\n                <input\n                type=\"text\"\n                placeholder={pirate.lastName}\n                name=\"lastName\"\n                onChange={handleChange}\n                value={statePirate.lastName}\n                />\n                <input\n                type=\"number\"\n                placeholder={pirate.age}\n                name=\"age\"\n                onChange={handleChange}\n                value={statePirate.age}\n                />\n                <select name=\"ship\" onChange={handleShip} defaultValue={stateShip.index}>\n                    {shipOptions}\n                </select>\n                <button type=\"submit\">Save</button> \n            </form>\n        </div>\n     );\n}\n \nexport default PirateEditForm;"]},"metadata":{},"sourceType":"module"}